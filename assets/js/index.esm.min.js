function t(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var a=[],s=!0,i=!1,r=void 0;try{for(var n,h=t[Symbol.iterator]();!(s=(n=h.next()).done)&&(a.push(n.value),!e||a.length!==e);s=!0);}catch(t){i=!0,r=t}finally{try{s||null==h.return||h.return()}finally{if(i)throw r}}return a}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(t){return function(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var s="_shape_face",i="_shape_vertex",r="area",n={RECT:"rect",CIRCLE:"circle",ELLIPSE:"ellipse",TEXT:"text",IMAGE:"image",POLY:"poly",POLYLINE:"polyline",POLYGON:"polygon"},h={isEditMode:!1,shape:n.RECT,shapeText:"press on link",shapeStyle:{fill:"#ffffff","fill-opacity":.2,stroke:"#ffffff","stroke-width":3},onClick:function(t,e){},onMouseDown:function(t,e,a){},onMouseMove:function(t,e,a){},onMouseUp:function(t,e,a){},onSelect:function(t,e){}},o={rect:[0,0,20,20],circle:[0,0,10],ellipse:[0,0,5,5],text:[0,0,12]},p=.5,l="http://www.w3.org/2000/svg",c="http://www.w3.org/1999/xlink";export default function(d){var f=function(){function e(t,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=d(t),this.mapEl=null,this.svgEl=null,this.options=d.extend(!0,{},h,a),this.shapeType=this.options.shape,this.isEditMode=this.options.isEditMode,this.shapeStyle=this.options.shapeStyle,this.shapeText="",this.shapeImageUrl="",this.shapeCoords=null,this.vertexCoords=null,this.grabType=null,this.containerWidth=0,this.containerHeight=0,this.touchStartCoords={x:null,y:null},this.dragInfo={face:{x:null,y:null},vertex:{x:null,y:null}},this.shapeLimitCoords={x:30,y:30,radius:15},this.allShapeInfo={}}var a,i,n;return a=e,(i=[{key:"createMaps",value:function(t,e){var a=this.container.width();isNaN(a)||!a?this.container.one("load",d.proxy(u,this,t,e)):u.call(this,t,e)}},{key:"setShapeType",value:function(t){this.shapeType=t}},{key:"setShapeStyle",value:function(t){t=t||{},this.shapeStyle=d.extend({},!0,this.shapeStyle,t)}},{key:"setUrl",value:function(t,e){}},{key:"setTextShape",value:function(t,e){this.setShapeStyle(e),this.shapeText=t}},{key:"setImageShape",value:function(t,e){this.setShapeStyle(e),this.shapeImageUrl=t}},{key:"addShape",value:function(t,e,a){a&&this.setShapeType(a),this.createMaps(t,e)}},{key:"removeShape",value:function(t){if(this.shapeEl){void 0===t&&(t=this.shapeEl.data("index"));var e=this.mapEl.find('area[data-index="'+t+'"]'),a=this.svgEl.find("."+s+'[data-index="'+t+'"]');this.detachEvents(a,[{type:"click touchend"}]),a.parent().remove(),e.remove(),this.removeShapeInfo(t)}}},{key:"removeAllShapes",value:function(){var t=this;this.shapeEl&&(this.svgEl.find("."+s).each(function(e,a){t.removeShape(d(a).data("index"))}),this.allShapeInfo={})}},{key:"removeImageMaps",value:function(){this.removeAllShapes(),this.svgEl&&this.svgEl.remove()}},{key:"updateShapeInfo",value:function(t,e,a){var s=this.allShapeInfo;e.index=t,s["shape"+t]?s["shape"+t]=d.extend(!0,{},s["shape"+t],e,a):s["shape"+t]=d.extend(!0,e,a)}},{key:"removeShapeInfo",value:function(t){delete this.allShapeInfo["shape"+t]}},{key:"getShapeInfo",value:function(t){return this.allShapeInfo["shape"+t]}},{key:"getAllShapesInfo",value:function(){return d.extend(!0,{},this.allShapeInfo)}},{key:"zoom",value:function(t){(function(t){var e=this,a=t[0],s=t.length<2?a:t[1],i=.01*a*this.container.width(),r=.01*s*this.container.height();this.container.css({width:i+"px",height:r+"px"}),setTimeout(function(){e.svgEl&&e.svgEl.length>0&&w.call(e,i,r)})}).call(this,t)}},{key:"enableClick",value:function(){this.attachEvents(this.svgEl.find("."+s),[{type:"touchstart",handler:m},{type:"click touchend",handler:x}])}},{key:"disableClick",value:function(){this.detachEvents(this.svgEl.find("."+s),[{type:"touchstart",handler:m},{type:"click touchend",handler:x}])}},{key:"setShapeCoords",value:function(t){this.shapeCoords=t}},{key:"setVertexCoords",value:function(t){this.vertexCoords=t}},{key:"setShapeElement",value:function(t){this.shapeEl=t}},{key:"setVertexElement",value:function(t){this.vertexEl=t}},{key:"setVertexElements",value:function(t){this.vertexEls=t}},{key:"attachEvents",value:function(t,e){var a=this;t=d(t),e.forEach(function(e){var s=e.type,i=e.handler;t.on(s+"."+r,d.proxy(i,a))})}},{key:"detachEvents",value:function(t,e){var a=this;t=d(t),e.forEach(function(e){var s=e.type,i=e.handler,n=s||"",h=i?d.proxy(i,a):"";h?t.off(n+"."+r,h):t.off(n+"."+r)})}}])&&t(a.prototype,i),n&&t(a,n),e}();function u(t,e){var i=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}();if(this.container.attr("usemap")){var r=this.container.attr("usemap").replace("#","");this.mapEl=d("body").find("map[name="+r+"]")}else this.mapEl=d("<map name="+i+"></map>").insertAfter(this.container),this.container.attr("usemap","#"+i);this.containerWidth=this.container.width(),this.containerHeight=this.container.height();var h,f,u=this.containerWidth,E=this.containerHeight,I=u/2,S=E/2,w=this.shapeType,k=[],L=!1;if(t=function(t){return t?a(t).map(function(t){return parseFloat(t)}):null}(t),Array.isArray(t))w===n.RECT||w===n.IMAGE?k=d.extend([],o.rect,t):w===n.CIRCLE?k=d.extend([],o.circle,t):w===n.ELLIPSE?k=d.extend([],o.ellipse,t):w===n.TEXT&&(t[0]||(t[0]=I,L=!0),t[1]||(t[1]=S,L=!0),t[2]||(t[2]=20),k=d.extend([],o.text,t));else{var b=.1*u,M=.1*E,A=b>=M?M:b;if(w===n.RECT)k=d.extend([],o.rect,[I-b,S-M,I+b,S+M]);else if(w===n.CIRCLE)k=d.extend([],o.circle,[I,S,A]);else if(w===n.ELLIPSE)k=d.extend([],o.ellipse,[I,S,A,A]);else if(w===n.IMAGE){var _=(h=this.shapeImageUrl,"naturalWidth"in(f=new Image)&&"string"!=typeof h?{width:h.naturalWidth,height:h.naturalHeight}:("string"==typeof h&&(h={src:h}),f.src=h.src,{width:f.width,height:f.height}));k=[I-(b=_.width/2),S-(M=_.height/2),I+b,S+M]}}var R=this.mapEl.find("."+s).length,P=w,X={};w!==n.TEXT&&w!==n.IMAGE||(P=n.RECT,X=w===n.TEXT?{text:this.shapeText}:{href:this.shapeImageUrl}),function(t,e,s,i){var r=this.container.width(),h=this.container.height();if(void 0!==document.createElementNS){var o=this.mapEl.find("svg").get(0),p=d(o),f=this.shapeType;o||(o=document.createElementNS(l,"svg"),p=d(o),this.svgEl=p,this.isEditMode?this.attachEvents(p,[{type:"mousedown",handler:C}]):this.attachEvents(this.mapEl,[{type:"touchstart",handler:m},{type:"click touchend",handler:x}]),this.attachEvents(window,[{type:"resize",handler:T}])),o.setAttribute("width",r),o.setAttribute("height",h);var u=this.container.position();p.attr({xmlns:l,"xmlns:xlink":c,version:"1.1","data-Id":e}).css({position:"absolute",zIndex:1e3,overflow:"hidden",top:u.top,left:u.left});var E=function(t,e,s,i){t===n.POLY&&(t=n.POLYLINE);var r=d(document.createElementNS(l,t)),h=d(document.createElementNS(l,"g"));y.call(this,e,r);var o="default";if(this.isEditMode?o="move":""!==s&&(o="pointer"),this.setShapeStyle({cursor:o}),r.css(this.shapeStyle),t===n.TEXT&&r.css({"fill-opacity":"","stroke-opacity":""}),r.attr("data-index",i),h.append(r),this.setShapeElement(r),this.isEditMode&&"text"!==t){var p=function(t,e,a){var s=g(t,e),i=s.map(function(){var t=d(document.createElementNS(l,"rect"));return t.attr("data-index",a).css({fill:"#ffffff",stroke:"#000000","stroke-width":2}),t});return v(s,i),i}(t,e,i);h.append.apply(h,a(p)),this.setVertexElements(p)}return h}.call(this,f,t,s,i);p.append(E),this.mapEl.append(p)}}.call(this,k,i,e,R),this.setShapeCoords(k),this.updateShapeInfo(R,{coords:k,type:w,url:e,style:this.shapeStyle},X),L&&this.isEditMode&&w===n.TEXT&&function(){var t=this.shapeEl,e=t.get(0).getBBox().width/2,a=parseFloat(t.attr("font-size"))*p/2,s=parseInt(t.attr("x")),i=parseInt(t.attr("y")),r=s-e,n=i+a;this.updateShapeInfo(t.data("index"),{coords:[r,n,t.attr("font-size")]}),t.attr({x:r,y:n})}.call(this),w===n.ELLIPSE&&(P=n.CIRCLE,k=[k[0],k[1],o.ellipse[2],o.ellipse[2]]),function(t,e,a,s){d("<area shape="+t+" coords="+e.join(",")+" href="+(a||"#")+" data-index="+s+" "+(a?'target="_blank"':"")+">").appendTo(this.mapEl)}.call(this,P,k,e,R)}function y(t,e,a){e=e||this.shapeEl;var i=a?a.type:this.shapeType;i===n.RECT||i===n.IMAGE?(e.attr({x:t[0],y:t[1],class:s}),t[2]&&e.attr("width",t[2]-t[0]),t[3]&&e.attr("height",t[3]-t[1]),i===n.IMAGE&&(e.get(0).setAttributeNS(c,"href",a?a.href:this.shapeImageUrl),e.get(0).setAttribute("preserveAspectRatio","none"))):i===n.CIRCLE?(e.attr({cx:t[0],cy:t[1],class:s}),t[2]&&e.attr("r",t[2])):i===n.ELLIPSE?(e.attr({cx:t[0],cy:t[1],class:s}),t[2]&&e.attr("rx",t[2]),t[3]&&e.attr("ry",t[3])):i===n.TEXT&&(e.attr({x:t[0],y:t[1],"font-size":t[2],class:s}),e.text(a&&a.text||this.shapeText))}function v(t,e,a){t.forEach(function(t,a){d(e[a]).attr({x:t.x-3,y:t.y-3,width:7,height:7,"data-direction":t.type,class:i}).css("cursor",t.type+"-resize")})}function g(t,e){var a=[];return t===n.RECT||t===n.IMAGE?a=[{x:e[0],y:e[1],type:"nw"},{x:e[0],y:e[3],type:"sw"},{x:e[2],y:e[1],type:"ne"},{x:e[2],y:e[3],type:"se"},{x:(e[2]-e[0])/2+e[0],y:e[1],type:"n"},{x:(e[2]-e[0])/2+e[0],y:e[3],type:"s"},{x:e[0],y:(e[3]-e[1])/2+e[1],type:"w"},{x:e[2],y:(e[3]-e[1])/2+e[1],type:"e"}]:t===n.CIRCLE?a=[{x:e[0],y:e[1]-e[2],type:"n"},{x:e[0],y:e[1]+e[2],type:"s"},{x:e[0]-e[2],y:e[1],type:"w"},{x:e[0]+e[2],y:e[1],type:"e"}]:t===n.ELLIPSE&&(a=[{x:e[0],y:e[1]-e[3],type:"n"},{x:e[0],y:e[1]+e[3],type:"s"},{x:e[0]-e[2],y:e[1],type:"w"},{x:e[0]+e[2],y:e[1],type:"e"}]),a}function E(t,e,a){var i=this.svgEl.find("."+s+'[data-index="'+e.data("index")+'"]');(a=a||this.shapeType)===n.TEXT?t=function(t){var e=parseFloat(t.attr("x")),a=parseFloat(t.attr("y")),s=t.get(0).getBBox().width,i=parseFloat(t.attr("font-size"))*p/2;return[e,a-i,e+s,a]}(i):a===n.ELLIPSE&&(t=[t[0],t[1],o.ellipse[2]]),e.attr("coords",t.join(","))}function m(t){var e=t.originalEvent.touches[0];this.touchStartCoords.x=e.pageX,this.touchStartCoords.y=e.pageY}function x(t){var e=d(t.currentTarget);if("area"!==t.currentTarget.tagName.toLowerCase()){if(t.preventDefault(),this.dragInfo.face.x&&this.dragInfo.face.x!==t.pageX||this.dragInfo.face.y&&this.dragInfo.face.y!==t.pageY||"svg"===t.target.tagName.toLowerCase()||"touchend"===t.type&&t.originalEvent.changedTouches[0].pageX!==this.touchStartCoords.x&&t.originalEvent.changedTouches[0].pageY!==this.touchStartCoords.y)return;var a=d(t.target).attr("data-index");"#"!==(e=this.mapEl.find('area[data-index="'+a+'"]')).attr("href")&&window.open(e.attr("href"))}this.options.onClick.call(this,t,e.attr("href"))}function C(t){if(t.preventDefault(),"svg"!==t.target.tagName.toLowerCase()){var e=d(t.target),a=e.attr("data-index"),r=this.getShapeInfo(a),h=e.parent().find(":first-child"),o=[],p=h.get(0).tagName.toLowerCase();if(p===n.RECT||p===n.IMAGE){var l=parseInt(h.attr("x")),c=parseInt(h.attr("y"));o=[l,c,l+parseInt(h.attr("width")),c+parseInt(h.attr("height"))],p===n.IMAGE&&this.setImageShape(h.attr("href"))}else p===n.CIRCLE?o=[parseInt(h.attr("cx")),parseInt(h.attr("cy")),parseInt(h.attr("r"))]:p===n.ELLIPSE?o=[parseInt(h.attr("cx")),parseInt(h.attr("cy")),parseInt(h.attr("rx")),parseInt(h.attr("ry"))]:p===n.TEXT?(o=[parseFloat(h.attr("x")),parseFloat(h.attr("y")),parseFloat(h.attr("font-size"))],this.shapeText=h.text()):p===n.POLYGON&&(p=n.POLY);if(this.setShapeType(p),this.setShapeElement(h),this.setShapeCoords(o),p!==n.TEXT){h.attr("data-fill",h.css("fill")),h.css("fill","#ffffff"),this.setVertexCoords(g(p,o));var f=[];this.mapEl.find("."+i+'[data-index="'+a+'"]').each(function(){f.push(d(this))}),this.setVertexElements(f)}e.is("."+s)?(this.grabType="face",function(t,e,a){this.dragInfo.face.x=e,this.dragInfo.face.y=a,t.attr("data-movable",!0)}.call(this,e,t.pageX,t.pageY)):e.is("."+i)&&(this.grabType="vertex",function(t,e){this.setVertexElement(t);var a=0;this.vertexEls.forEach(function(e,s){t.get(0)===e.get(0)&&(a=s)});var s=this.vertexCoords[a];this.dragInfo.vertex.x=s.x,this.dragInfo.vertex.y=s.y,t.attr("data-movable",!0)}.call(this,e,a)),this.attachEvents(this.mapEl.parent(),[{type:"mouseup",handler:I},{type:"mousemove",handler:S}]),this.options.onSelect.call(this,t,r),this.options.onMouseDown.call(this,t,p,o)}}function I(t){var e=d(t.target),a=this.shapeEl;a.css("fill",a.attr("data-fill")),e.attr("data-movable",!1);var s=function(){var t=this.shapeEl,e=this.shapeType,a=[];if(e===n.RECT||e===n.IMAGE){var s=parseInt(t.attr("x")),i=parseInt(t.attr("y"));a=[s,i,s+parseInt(t.attr("width")),i+parseInt(t.attr("height"))]}else e===n.CIRCLE?a=[parseInt(t.attr("cx")),parseInt(t.attr("cy")),parseInt(t.attr("r"))]:e===n.ELLIPSE?a=[parseInt(t.attr("cx")),parseInt(t.attr("cy")),parseInt(t.attr("rx")),parseInt(t.attr("ry"))]:e===n.TEXT&&(a=[parseInt(t.attr("x")),parseInt(t.attr("y"))]);return a}.call(this);this.setShapeCoords(s),this.updateShapeInfo(a.data("index"),{coords:s}),this.detachEvents(this.mapEl.parent(),[{type:"mouseup",handler:I},{type:"mousemove",handler:S}]),this.options.onMouseUp.call(this,t,this.shapeType,s)}function S(t){var a=d(t.target),r=e(this.shapeCoords,2),h=r[0],o=r[1],p=this.grabType,l=this.shapeType,c={};if("face"===p||"vertex"===p){if("face"===p){var f=h+t.pageX,u=o+t.pageY;c=function(t,e){var a=this.shapeEl;if("false"!==a.attr("data-movable")){var s=[],i=[],r=this.shapeType;if(r===n.RECT||r===n.IMAGE){var h=parseInt(a.attr("width")),o=parseInt(a.attr("height")),p=t+h,l=e+o;s=[t,e,p,l],i=g(n.RECT,s)}else r===n.CIRCLE?(s=[t,e,parseInt(a.attr("r"))],i=g(n.CIRCLE,s)):r===n.ELLIPSE?(s=[t,e,parseInt(a.attr("rx")),parseInt(a.attr("ry"))],i=g(n.ELLIPSE,s)):r===n.TEXT&&(s=[t,e]);return{movedCoords:s,vertexCoords:i,grabEl:a}}}.call(this,f-this.dragInfo.face.x,u-this.dragInfo.face.y)}else"vertex"===p&&(c=function(t,e){if("false"!==this.vertexEl.attr("data-movable")){var a=[],s=[],i=this.shapeType,r=this.vertexEl.attr("data-direction");if(i===n.RECT||i===n.IMAGE)switch(r){default:console.warn("Unexpected direction",r);break;case"nw":a=k.call(this,[t,e,this.shapeCoords[2],this.shapeCoords[3]],r);break;case"sw":a=k.call(this,[t,this.shapeCoords[1],this.shapeCoords[2],e],r);break;case"ne":a=k.call(this,[this.shapeCoords[0],e,t,this.shapeCoords[3]],r);break;case"se":a=k.call(this,[this.shapeCoords[0],this.shapeCoords[1],t,e],r);break;case"n":a=k.call(this,[this.shapeCoords[0],e,this.shapeCoords[2],this.shapeCoords[3]],r);break;case"s":a=k.call(this,[this.shapeCoords[0],this.shapeCoords[1],this.shapeCoords[2],e],r);break;case"w":a=k.call(this,[t,this.shapeCoords[1],this.shapeCoords[2],this.shapeCoords[3]],r);break;case"e":a=k.call(this,[this.shapeCoords[0],this.shapeCoords[1],t,this.shapeCoords[3]],r)}else if(i===n.CIRCLE)switch(r){default:console.warn("Unexpected direction",r);break;case"n":a=[this.shapeCoords[0],this.shapeCoords[1],L.call(this,this.shapeCoords[1]-e)];break;case"s":a=[this.shapeCoords[0],this.shapeCoords[1],L.call(this,e-this.shapeCoords[1])];break;case"w":a=[this.shapeCoords[0],this.shapeCoords[1],L.call(this,this.shapeCoords[0]-t)];break;case"e":a=[this.shapeCoords[0],this.shapeCoords[1],L.call(this,t-this.shapeCoords[0])]}else if(i===n.ELLIPSE)switch(r){default:console.warn("Unexpected direction",r);break;case"n":a=[this.shapeCoords[0],this.shapeCoords[1],this.shapeCoords[2],L.call(this,this.shapeCoords[1]-e)];break;case"s":a=[this.shapeCoords[0],this.shapeCoords[1],this.shapeCoords[2],L.call(this,e-this.shapeCoords[1])];break;case"w":a=[this.shapeCoords[0],this.shapeCoords[1],L.call(this,this.shapeCoords[0]-t),this.shapeCoords[3]];break;case"e":a=[this.shapeCoords[0],this.shapeCoords[1],L.call(this,t-this.shapeCoords[0]),this.shapeCoords[3]]}return s=g(i,a),{movedCoords:a,vertexCoords:s,grabEl:this.vertexEl}}}.call(this,t.pageX-this.svgEl.offset().left,t.pageY-this.svgEl.offset().top));if(!c)return;l!==n.TEXT&&(this.setVertexCoords(c.vertexCoords),v(c.vertexCoords,this.vertexEls,this.shapeType));var m=parseInt(c.grabEl.attr("data-index"));y.call(this,c.movedCoords,this.svgEl.find("."+s+'[data-index="'+m+'"]')),E.call(this,c.movedCoords,this.mapEl.find('area[data-index="'+m+'"]')),(a.is("."+s)||a.is("."+i))&&(Math.abs(this.dragInfo.face.x-t.pageX)<=1||Math.abs(this.dragInfo.face.y-t.pageY)<=1)&&this.svgEl.append(a.parent()),this.options.onMouseMove.call(this,t,l,c.movedCoords)}}function T(t){var e=this.container.width(),a=this.container.height();this.containerWidth===e&&this.containerHeight===a||w.call(this,e,a)}function w(t,e){var a=this,r=this.allShapeInfo,n=t/this.containerWidth,h=e/this.containerHeight,o=this.container.position();this.svgEl.get(0).setAttribute("width",t),this.svgEl.get(0).setAttribute("height",e),this.svgEl.css({top:o.top,left:o.left}),d.each(r,function(t,e){e.coords=b(e.coords,e.type,n,h),v(g(e.type,e.coords),a.svgEl.find("."+i+'[data-index="'+e.index+'"]'),e.type),y.call(a,e.coords,a.svgEl.find("."+s+'[data-index="'+e.index+'"]'),e),E.call(a,e.coords,a.mapEl.find('area[data-index="'+e.index+'"]'),e.type)}),this.containerWidth=t,this.containerHeight=e}function k(t,a){var s=e(t,4),i=s[0],r=s[1],n=s[2],h=s[3];return n-i<=this.shapeLimitCoords.x&&("se"!==a&&"ne"!==a&&"e"!==a||(n=i+this.shapeLimitCoords.x),"nw"!==a&&"sw"!==a&&"w"!==a||(i=n-this.shapeLimitCoords.x)),h-r<=this.shapeLimitCoords.y&&("se"!==a&&"sw"!==a&&"s"!==a||(h=r+this.shapeLimitCoords.y),"nw"!==a&&"ne"!==a&&"n"!==a||(r=h-this.shapeLimitCoords.y)),[i,r,n,h]}function L(t){return t<=this.shapeLimitCoords.radius?this.shapeLimitCoords.radius:t}function b(t,e,a,s){var i=[];if(e===n.RECT||e===n.IMAGE||e===n.ELLIPSE)i=[t[0]*a,t[1]*s,t[2]*a,t[3]*s];else if(e===n.CIRCLE){var r;r=a>=s?s:a,1===a&&(r=s),1===s&&(r=a),i=[t[0]*a,t[1]*s,t[2]*r]}else e===n.TEXT&&(i=[t[0]*a,t[1]*s,t[2]*a]);return i}return f.getCoordsByRatio=b,d.fn.extend({createMaps:function(t,e){return this.data("image_maps_inst").createMaps(t,e),this},copyImageMapsTo:function(t){return d.imageMaps.copyImageMaps({shapes:this.getAllShapes(),width:this.width(),height:this.height()},t),this},addShape:function(t,e,a){return this.data("image_maps_inst").addShape(t,e,a),this},removeShape:function(t){return this.data("image_maps_inst").removeShape(t),this},removeAllShapes:function(){this.data("image_maps_inst").removeAllShapes()},destroy:function(){var t=this.data("image_maps_inst");t&&(t.removeImageMaps(),this.data("image_maps_inst",null))},setShapeStyle:function(t){return this.data("image_maps_inst").setShapeStyle(t),this},setUrl:function(t,e){return this.data("image_maps_inst").setUrl(t,e),this},setTextShape:function(t,e){return this.data("image_maps_inst").setTextShape(t,e),this},setImageShape:function(t,e){return this.data("image_maps_inst").setImageShape(t,e),this},enableClick:function(){this.data("image_maps_inst").enableClick()},disableClick:function(){this.data("image_maps_inst").disableClick()},getAllShapes:function(){return this.data("image_maps_inst").getAllShapesInfo()},getCoordsByRatio:function(t,e,a,s){return f.getCoordsByRatio(t,e,a,s)},zoom:function(t){this.data("image_maps_inst").zoom(t)}}),d.imageMaps={copyImageMaps:function(t,e){var a=t.shapes,s=t.width,i=t.height;e.removeAllShapes(),d.each(a,function(t,a){e.setShapeStyle(a.style),a.href&&e.setImageShape(a.href),a.text&&e.setTextShape(a.text);var r=s,n=i,h=b(a.coords,a.type,e.width()/r,e.height()/n);e.addShape(h,a.url,a.type)})}},d.fn.imageMaps=function(t){if(1===this.length){if(!this.data("image_maps_inst")){var e=new f(this,t);return this.data("image_maps_inst",e),e}return this.data("image_maps_inst")}if(this.length>1)throw new Error("imageMaps instance has already been created.")},d}
//# sourceMappingURL=index.esm.min.js.map
